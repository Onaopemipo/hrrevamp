
<div>
    <ngx-employee-list [allowmultipleselection]="allowmultipleselection" [selectedEmployees]="selectedEmployees" [selectedEmployeeRecord]="selectedEmployeeRecord"></ngx-employee-list>
    <button (click)="showMasterSearchModal()" class="underlined-button">
  
        <span *ngIf="selectedEmployees.length > 0 || selectedEmployeeRecord">Edit</span>
        <span *ngIf="selectedEmployees.length < 1 && !selectedEmployeeRecord">Add Employee</span>
        </button>
</div>

<ngx-side-modal [(show)]="showModal">
    <div modal-header>{{selectionHeader}}</div>
    <div modal-body>
        <nb-form-field>
            <nb-icon nbPrefix icon="search-outline" pack="eva"></nb-icon>
            <input #searchtText type="text" nbInput class="form-control" [(ngModel)]="filterObject.searchtText">
        </nb-form-field>
        <div class="row">
            <div class="col-sm-4 form-group">
                <label>Department</label>
                <select class="form-control">
                    <option></option>
                </select>
            </div>
            <div class="col-sm-4 form-group">
                <label>Branch</label>
                <select class="form-control">
                    <option></option>
                </select>
            </div>
            <div class="col-sm-4 form-group">
                <label>Unit</label>
                <select class="form-control">
                    <option></option>
                </select>
            </div>
            <div class="col-sm-4 form-group">
                <label>Level</label>
                <select class="form-control">
                    <option></option>
                </select>
            </div>
            <div class="col-sm-4 form-group">
                <label>Gender</label>
                <select class="form-control">
                    <option></option>
                </select>
            </div>
            <div class="col-sm-4 form-group">
                <label style="visibility: hidden;">Gender</label>
                <button *ngIf="!searchbtnclicked" (click)="getallemployee()" nbButton status='primary' style="min-width: unset !important;">Search</button>
                <button *ngIf="searchbtnclicked" nbButton status='primary' style="min-width: unset !important;">Processing&nbsp;<i class="fa fa-spin fa-spinner"></i></button>
            </div>
        </div>
        <div>
            <div *ngIf="allowmultipleselection" style="display: flex; justify-content: flex-end; margin: 1rem 0rem">
                <span style="color: #4847E0; cursor: pointer;">Select All</span>
            </div>
            <div style="border-top: 0.5px solid #CCCCCC;;">
                <div  *ngFor="let emp of allEmployees; let i = index" style="display: flex; align-items: center; border-bottom: 0.5px solid #CCCCCC; padding: 1rem;">
                    <input type="checkbox" (change)="updateSelectedEmployee(i)" style="margin-right: 2rem;"/>
                    <div style="display: flex;">
                        <img style="width: 3rem; height: 3rem; border-radius: 50%; margin-right: 1rem;" [src]="emp.profilePic" onError="this.src = 'https://via.placeholder.com/300/09f.png/fff%20C/O%20https://placeholder.com/'"/>
                        <div style="display: flex; justify-content: space-between; flex-direction: column;">
                            <div style="font-family: Rubik;
                                    font-style: normal;
                                    font-weight: normal;
                                    font-size: 16px;
                                    line-height: 19px;
                                    display: flex;">
                                    {{emp.firstName}}&nbsp;{{emp.lastName}}</div>
                            <div style="font-family: Rubik;
                                    font-style: normal;
                                    font-weight: normal;
                                    font-size: 14px;
                                    display: flex;
                                    color: #6C757D;">{{emp.jobRoleName}}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div style="display: flex; justify-content: flex-end; margin: 1rem;">
            <button [disabled]="!disableaddbtn" (click)="okMasterSearch()" nbButton status='primary' style="margin-right: 0.5rem;">{{addbtnText}}</button>
            <button (click)="cancelMasterSearch()" nbButton status='primary' outline style="background: transparent;">Cancel</button>
        </div>
    </div>
</ngx-side-modal>
<ngx-componentsheader [pageName]="title"  >
<div headerButton>
  <ngx-loadable-button [loading]="loading"  (click)="modal('submit')" >
    Submit
  </ngx-loadable-button>

</div>
</ngx-componentsheader>


<div class="row">
    <div class="col-md-4 col-xxl-4">
    <nb-card>
    <nb-card-body style="padding: 1.5rem 1rem 0 1rem !important;">

    </nb-card-body>
    <div>
      <ng-container #flowBasic="flow" [flowConfig]="{ target: '/' }"></ng-container>
        <div #linklist style="display: flex;flex-direction: column;" *ngFor="let hiringlist of hiringChecklist; let i = index">

            <div (click)="selectPanel(hiringlist,i)" [ngClass]="{'wizardlistactive': hiringlist.status == 'Active','wizardlistinactive': hiringlist.status != 'Active'}" style="display: flex;flex-direction: row;margin: .5rem 0 .5rem 0; align-items: center;cursor: pointer;">
            <div style="padding-left: 1rem;"><nb-icon icon="checkmark-circle-2" status="{{hiringlist.status == 'Active'? 'primary': 'none'}}"></nb-icon></div>
            <div style="padding-left: 0.625rem;"><span [ngClass]="{'listtextActive': hiringlist.status == 'Active','listtextInactive': hiringlist.status != 'Active'}" >{{hiringlist.label}} </span> </div>
            </div>

      </div>
    </div>

    </nb-card>
    </div>
    <div class="col-md-8 col-xxl-8">
    <nb-card>
    <nb-card-body>
        <div #scase [ngSwitch]="selectedCase">
               <!--Personal Info-->
        <div class="fmContainer" *ngSwitchCase="'profile_panel'">
            <div style="padding-bottom: 5px; display: flex;flex-direction: column;">
                <p class="header6-medium" style="flex: auto;">{{selectedPanel.label}}</p>
                <div style="display: flex;flex-direction: row;" *ngIf="createNewEmployee.id">
                 <div >
                  <img [src]="createNewEmployee.profilePic"  onError="this.src='assets/icons/camera.jpg'" style="border-radius: 50%; height: 7em;width: 7rem;">
                 </div>
                 <div style="display: flex;flex-direction: column;justify-content: center;padding-left: 15px;"
                 flow-init     
                 flowDrop
                 [flow]="flowBasic.flowJs"
                 (drop)="profileonDropFileceived(flowBasic)"
                 (dragover)="profileonDragOver($event)"
          
                 >
                 <div (change)="profilefilereceived(flowBasic)">
                  <a flowButton
                  [flow]="flowBasic.flowJs" style="cursor: pointer;text-decoration: underline;color: #4847E0;">Change display picture</a>
                </div>
                <div *ngFor="let transfer of profilefiles; let i = index" style="color: blue; display: flex;">
               <div *ngIf="i == 0" style=" display: flex;flex-direction: row">
                <nb-icon nbPrefix icon="checkmark-outline" pack="eva"></nb-icon> &nbsp;&nbsp;
                <div style="flex: auto;">{{transfer.name}}</div>
                &nbsp;&nbsp;
                <span class="smalltext" style="color: red !important;cursor: pointer;" (click)="profileremoveFile(flowBasic, transfer)">Remove</span>
             
               </div>
               
                </div>
                  <h6 style="font-size: small !important;">Maximum size allowed is 600kb of PNG,JPEG,JPG</h6>
                 </div>
                  </div>
                  <div style="display: flex;justify-content: flex-end;flex-direction: row;">
                    <small>Activate Self Service</small>
                   <div style="padding-left: 5px;"> <nb-checkbox name="selfServiceStatus" id="selfServiceStatus" #selfServiceStatus="ngModel" [(ngModel)]="createNewEmployee.selfServiceStatus"></nb-checkbox></div>
                  
                  </div>
            </div>
<!-- 
            <div style="border-bottom: 0.800000011920929px solid #CED4DA;padding-bottom: 5px;">
                <p class="smalltext">Input required Information in the fields below</p>
                </div> -->
                <div style="padding-top:1rem;">
                    <form #newEmployeeForm="ngForm" name="newEmployeeForm" id="newEmployeeForm">
                        <div class="form-group row">
                            <label for="FirstName" class="label col-sm-4 col-form-label listsubheader">First Name</label>
                            <div class="col-sm-8">
                              <input type="text" nbInput fullWidth name="firstName" #firstName="ngModel"  [(ngModel)]="createNewEmployee.firstName" placeholder="First Name" required>
                              <div *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)" class="error">
                                <div *ngIf="firstName.errors.required">First Name is required</div>
                              </div>
                            </div>
                          </div>
                          <div class="form-group row">
                            <label for="LastName" class="label col-sm-4 col-form-label listsubheader">Last Name</label>
                            <div class="col-sm-8">
                              <input type="text" nbInput fullWidth name="lastName" #lastName="ngModel"  [(ngModel)]="createNewEmployee.lastName"  placeholder="Last Name" required>
                              <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)" class="error">
                                <div *ngIf="lastName.errors.required">Last Name is required</div>
                              </div>
                            </div>
                          </div>
                          <div class="form-group row">
                            <label for="phoneNumber" class="label col-sm-4 col-form-label listsubheader">Phone Number</label>
                            <div class="col-sm-8">
                              <input type="text" nbInput fullWidth name="phoneNumber" #phoneNumber="ngModel"  [(ngModel)]="createNewEmployee.phoneNumber" placeholder="Phone Number" required>
                              <div *ngIf="phoneNumber.invalid && (phoneNumber.dirty || phoneNumber.touched)" class="error">
                                <div *ngIf="phoneNumber.errors.required">Phone Number is required</div>
                              </div>
                            </div>
                          </div>

                          <div class="form-group row">
                            <label for="DOB" class="label col-sm-4 col-form-label listsubheader">Date of Birth</label>
                            <div class="col-sm-8">
                              <!-- <input type="date" nbInput fullWidth name="dateOfBirth" #dateOfBirth="ngModel"  [(ngModel)]="createNewEmployee.dateOfBirth" placeholder="Date of Birth" required> -->
                              <!-- <div *ngIf="dateOfBirth.invalid && (dateOfBirth.dirty || dateOfBirth.touched)" class="error">
                                <div *ngIf="dateOfBirth.errors.required">Date of Birth is required</div>
                              </div> -->
                              <ngx-date [(value)]="createNewEmployee.dateOfBirth" name="dateOfBirth" id="dateOfBirth"></ngx-date>
                            </div>
                          </div>
                          <div class="form-group row">
                            <label for="MaritalStatus" class="label col-sm-4 col-form-label listsubheader">Marital Status</label>
                            <div class="col-sm-8">
                              <select class="form-control" name="maritalStatusId" #maritalStatusId="ngModel"  [(ngModel)]="createNewEmployee.maritalStatusId"  placeholder="Marital Status" required>
                                <option [value]="status.option_value" *ngFor="let status of maritalStatusValues">{{status.option_text}}</option>
                              </select>
                              <div *ngIf="maritalStatusId.invalid && (maritalStatusId.dirty || maritalStatusId.touched)" class="error">
                                <div *ngIf="maritalStatusId.errors.required">Marital Status is required</div>
                              </div>
                            </div>
                          </div>
                          <div class="form-group row">
                            <label for="inputEmail1" class="label col-sm-4 col-form-label listsubheader">Gender</label>
                            <div class="col-sm-8">
                              <select class="form-control" name="gender" #gender="ngModel"  [(ngModel)]="createNewEmployee.genderId" placeholder="Gender" required>
                                <option *ngFor="let gen of genderValues" [value]="gen.option_value">{{gen.option_text}} </option>
                              </select>
                              <div *ngIf="gender.invalid && (gender.dirty || gender.touched)" class="error">
                                <div *ngIf="gender.errors.required">Gender is required</div>
                              </div>
                            </div>
                          </div>

                          <div class="form-group row">
                            <label for="employeeNumber" class="label col-sm-4 col-form-label listsubheader">Employee Number</label>
                            <div class="col-sm-8">
                              <input type="text" nbInput fullWidth name="employeeNumber" #employeeNumber="ngModel"  [(ngModel)]="createNewEmployee.employeeNumber" placeholder="Employee Number">
                            </div>
                          </div>

                          <div class="form-group row">
                            <label for="workEmail" class="label col-sm-4 col-form-label listsubheader">Work Email</label>
                            <div class="col-sm-8">
                              <input type="email" nbInput fullWidth name="workEmail" #workEmail="ngModel"  [(ngModel)]="createNewEmployee.workEmail"  placeholder="Work Email" required>
                              <div *ngIf="workEmail.invalid && (workEmail.dirty || workEmail.touched)" class="error">
                                <div *ngIf="workEmail.errors.required">Work Email is required</div>
                              </div>
                            </div>
                          </div>

                          <div class="form-group row">
                            <label for="Religion" class="label col-sm-4 col-form-label listsubheader">Religion</label>
                            <div class="col-sm-8">
                              <select class="form-control" name="religion" #religion="ngModel"  [(ngModel)]="createNewEmployee.religionId" placeholder="Religion" required>
                                <option *ngFor="let rel of religionValues" [value]="rel.option_value">{{rel.option_text}}</option>
                              </select>
                              <div *ngIf="religion.invalid && (religion.dirty || religion.touched)" class="error">
                                <div *ngIf="religion.errors.required">Religion is required</div>
                              </div>
                            </div>
                          </div>



                          <div class="form-group row">
                            <label for="Religion" class="label col-sm-4 col-form-label listsubheader">Employment Status</label>
                            <div class="col-sm-8">
                              <select class="form-control" name="employmentStatusId" #employmentStatusId="ngModel"  [(ngModel)]="createNewEmployee.employmentStatusId" placeholder="Employment Status" required>
                                <option *ngFor="let employment of employmentStatusValues" [value]="employment.option_value">{{employment.option_text}} </option>
                              </select>
                              <div *ngIf="employmentStatusId.invalid && (employmentStatusId.dirty || employmentStatusId.touched)" class="error">
                                <div *ngIf="employmentStatusId.errors.required">Employment Status is required</div>
                              </div>
                            </div>
                          </div>

                          <div class="form-group row">
                            <label for="bvn" class="label col-sm-4 col-form-label listsubheader">BVN</label>
                            <div class="col-sm-8">
                              <input type="number" nbInput fullWidth min="10" max="10" name="bvn" #bvn="ngModel"  [(ngModel)]="createNewEmployee.bvn" placeholder="BVN">
                              <div *ngIf="bvn.invalid && (bvn.dirty || bvn.touched)" class="error">
                                <div *ngIf="bvn.errors.required">BVN is required</div>
                              </div>
                            </div>
                          </div>


                          <div class="form-group row">
                            <label for="personalEmail" class="label col-sm-4 col-form-label listsubheader">Personal Email</label>
                            <div class="col-sm-8">
                              <input type="email" nbInput fullWidth name="personalEmail" #personalEmail="ngModel"  [(ngModel)]="createNewEmployee.personalEmail"  placeholder="Personal Email" required>
                              <div *ngIf="personalEmail.invalid && (personalEmail.dirty || personalEmail.touched)" class="error">
                                <div *ngIf="personalEmail.errors.required">Personal Email is required</div>
                              </div>
                            </div>
                          </div>


                          <div class="form-group row">
                            <label class="label col-sm-4 col-form-label listsubheader" style="font-weight: bold;"></label>
                            <div class="col-sm-8 col-md-8 col-lg-8">
                              <button nbButton status="primary" [disabled]="newEmployeeForm.invalid"  (click)="nextPanel()">Next</button>
                              <span style="padding: 8px;"></span>
                              <!-- <button nbButton style="color: #4847E0;">Go Back</button> -->
                            </div>
                          </div>
                    </form>
                </div>
        </div>

        <!--Contract Info-->

        <div class="fmContainer" *ngSwitchCase="'contract_panel'">
            <div style="padding-bottom: 5px; display: flex;flex-direction: row;">
                <p class="header6-medium" style="flex: auto;">{{selectedPanel.label}}</p>
                <!-- <div style="cursor: pointer;" (click)="showEmployeeContractModal = true" *ngIf="createNewEmployee.id">
                  <nb-icon icon="edit-2-outline" status="primary"></nb-icon> Edit
                
                  </div> -->
            </div>
            
                <div style="padding-top:1.5rem;" >
                  <ngx-default-content
                  *ngIf="EmpContractEmpty"
                  pageHeader="No Contract Record Found"
                  pageDescription=""
                  buttonValue=""
                  [loading]="EmpContractloading"
                       
                >
                </ngx-default-content>
                  <ngx-tablecomponent  
                  *ngIf="!EmpContractEmpty"              
                  [showActions]="true"
                  [showFilter]="false"
                  (actionClick)="empContracttableActionClicked($event)"
                  [actions]="EmpContracttableActions" 
                  [userData]="createNewEmployee.contracts" 
                  [tableColum]="EmpContracttableColumns"
                  [totalItems]="EmpContracttotalItems"
                  [currentPage]="EmpContractcurrentPage"
                  [loading]="EmpContractloading"
                  >
              </ngx-tablecomponent>
                </div>
        </div>

         <!--Document-->
         <div class="fmContainer" *ngSwitchCase="'document_panel'">
            <div style="padding-bottom: 5px; display: flex;flex-direction: row;">
                <p class="header6-medium" style="flex: auto;">{{selectedPanel.label}}</p>
                <div *ngIf="createNewEmployee.id">
                  <button nbButton status="primary"  (click)="showdocumentUploadModal = true">Add New</button>
                  </div>
            </div>


                <div style="padding-top:1.5rem;">             
                  <ngx-default-content
                  *ngIf="documentEmpty"
                  pageHeader="No Document Found"
                  pageDescription=""                  
                  [loading]="documentloading"               
                >
                </ngx-default-content>
                  <ngx-tablecomponent  
                  *ngIf="!documentEmpty"              
                  [showActions]="true"
                  [showFilter]="false"
                  (actionClick)="documenttableActionClicked($event)"
                  [actions]="documenttableActions" 
                  [userData]="createNewEmployee.documents" 
                  [tableColum]="documenttableColumns"
                  [totalItems]="documenttotalItems"
                  [currentPage]="documentcurrentPage"
                  [loading]="documentloading"
                  >
              </ngx-tablecomponent>
                </div>
        </div>
          <!--Qualification Info-->
          <div class="fmContainer" *ngSwitchCase="'qualification_Info'">
            <div style="padding-bottom: 5px; display: flex;flex-direction: row;">
              <p class="header6-medium" style="flex: auto;">{{selectedPanel.label}}</p>
              <div>
                <button nbButton status="primary"  (click)="showQualificationModal = true">Add New</button>
                </div>
          </div>

         
                <div style="padding-top:1.5rem;">
                           
                    <ngx-default-content
                    *ngIf="qualificationEmpty"
                    pageHeader="Add your first Qualification"
                    pageDescription="Click on the button to add Qualification"
                    buttonValue="Add Qualification"
                    [loading]="qualificationloading"
                    (buttonClick)="showQualificationModal = true"              
                  >
                  </ngx-default-content>
                    <ngx-tablecomponent  
                    *ngIf="!qualificationEmpty"              
                    [showActions]="true"
                    [showFilter]="false"
                    (actionClick)="qualificationtableActionClicked($event)"
                    [actions]="qualificationtableActions" 
                    [userData]="createNewEmployee.qualifications" 
                    [tableColum]="qualificationtableColumns"
                    [totalItems]="qualificationtotalItems"
                    [currentPage]="qualificationcurrentPage"
                    [loading]="qualificationloading"
                    >
                </ngx-tablecomponent>
              
                </div>
        </div>
        <!--Bank-->


           <div class="fmContainer" *ngSwitchCase="'bank_panel'">
            <div style="padding-bottom: 5px; display: flex;flex-direction: row;">
              <p class="header6-medium" style="flex: auto;">{{selectedPanel.label}}</p>
              <div>
                <button nbButton status="primary"  (click)="showbankModal = true">Add New</button>
                </div>
          </div>
                <div style="padding-top:1.5rem;">
                  <ngx-default-content
                  *ngIf="EmpBankEmpty"
                  pageHeader="Add your first Bank Details"
                  pageDescription="Click on the button to add Bank Details"
                  buttonValue="Add Bank"
                  [loading]="EmpBankloading"
                  (buttonClick)="showbankModal = true"              
                >
                </ngx-default-content>
                  <ngx-tablecomponent  
                  *ngIf="!EmpBankEmpty"              
                  [showActions]="true"
                  [showFilter]="false"
                  (actionClick)="embBanktableActionClicked($event)"
                  [actions]="EmpBanktableActions" 
                  [userData]="createNewEmployee.banks" 
                  [tableColum]="EmpBanktableColumns"
                  [totalItems]="EmpBanktotalItems"
                  [currentPage]="EmpBankcurrentPage"
                  [loading]="EmpBankloading"
                  >
              </ngx-tablecomponent>
                </div>
        </div>

            <!--Next of Kin-->
            <div class="fmContainer" *ngSwitchCase="'kin_panel'">
                <div style="padding-bottom: 5px;">
                    <p class="header6-medium">{{selectedPanel.label}}</p>
                </div>

                <div style="border-bottom: 0.800000011920929px solid #CED4DA;padding-bottom: 5px;"></div>
                    <div style="padding-top:1.5rem;">
                        <form id="nxtKinForm" name="nxtKinForm" #nxtKinForm="ngForm">
                          <div class="row" style="padding-top:10px">
                            <div class="col-sm-6 form-group">
                              <label>First Name</label>
                              <input #nok_first_name="ngModel" id="nok_first_name" name="nok_first_name" [(ngModel)]="createNewEmployee.nexkOfKin.nok_first_name" type="text" fullWidth class="form-control" nbInput placeholder="Enter First Name"  required>
                           
                            </div>
                            <div class="col-sm-6 form-group">
                              <label>Last Name</label>
                              <input #nok_last_name="ngModel" id="nok_last_name" name="nok_last_name" [(ngModel)]="createNewEmployee.nexkOfKin.nok_last_name" type="text" fullWidth class="form-control" nbInput placeholder="Enter Last Name"  required>
                           
                            </div>
                            <div class="col-sm-6 form-group">
                              <label>Phone Number</label>
                              <input #nok_phone="ngModel" id="nok_phone" name="nok_phone" [(ngModel)]="createNewEmployee.nexkOfKin.nok_phone" type="text" fullWidth class="form-control" nbInput placeholder="Enter Phone Number"  required>
                           
                            </div>
                            <div class="col-sm-6 form-group">
                              <label>Relationship with Next of Kin</label>
                              <input #nok_relationship="ngModel" id="nok_relationship" name="nok_relationship" [(ngModel)]="createNewEmployee.nexkOfKin.nok_relationship" type="text" fullWidth  class="form-control" nbInput placeholder="Enter Relationship"  required>
                           
                            </div>
                            <div class="col-sm-12 form-group">
                              <label>Next of Kin Address</label>
                              <input #nok_address="ngModel" id="nok_address" name="nok_address" [(ngModel)]="createNewEmployee.nexkOfKin.nok_address" type="text"  class="form-control" nbInput placeholder="Enter Relationship" fullWidth  required>
                           
                            </div>
                          </div>
                              <div class="form-group row">
                                <div class="col-sm-12">
                                  <button type="button" nbButton status="primary" [disabled]="nxtKinForm.invalid"  (click)="submitNextOfKin()" >Next</button>
                                </div>
                              </div>
                        </form>
                    </div>
            </div>

            <!--Contact Address-->
            <div class="fmContainer" *ngSwitchCase="'contact_panel'">
              <div style="padding-bottom: 5px;">
                <p class="header6-medium">{{selectedPanel.label}}</p>
            </div>

            <div style="border-bottom: 0.800000011920929px solid #CED4DA;padding-bottom: 5px;"></div>
                <div style="padding-top:1.5rem;">
                    <form id="contactForm" name="contactForm" #contactForm="ngForm">
                      <div class="row" style="padding-top:10px">
                        <div class="col-sm-6 form-group">
                          <label>Address Type</label>
                          <select class="form-control" name="address_type" id="address_type" #address_type="ngModel" [(ngModel)]="indvEmpContact.address_type"  required >
                            <option value="">--Select Address Type--</option>  
                            <option *ngFor="let addt of alladdressType" [value]="addt.option_value">{{addt.option_text}}</option>                      
                        </select>
                        <div *ngIf="address_type.invalid && (address_type.dirty || address_type.touched)" class="error">
                          <div *ngIf="address_type.errors.required">Address Type is required</div>
                        </div>
                        </div>
                        <div class="col-sm-6 form-group">
                          <label>Country</label>
                          <select (change)="getStatebyCountryId(country_id.value)" name="country_id" id="country_id" #country_id="ngModel" [(ngModel)]="indvEmpContact.country_id" class="form-control"  required >
                            <option value="">--Select Country--</option>     
                            <option *ngFor="let addCount of allCountries" [value]="addCount.id">{{addCount.name}}</option>                     
                        </select>
                        <div *ngIf="country_id.invalid && (country_id.dirty || country_id.touched)" class="error">
                          <div *ngIf="country_id.errors.required">Country is required</div>
                        </div>
                        </div>
                        <div class="col-sm-6 form-group">
                          <label>State</label>
                          <select (change)="getlgaByStateId(state_id.value)" name="state_id" id="state_id" #state_id="ngModel" [(ngModel)]="indvEmpContact.state_id"  class="form-control"  required >
                            <option value="">--Select State--</option>
                            <option *ngFor="let addStates of allStates" [value]="addStates.id">{{addStates.state_name}}</option>  
                        </select>
                        <div *ngIf="state_id.invalid && (state_id.dirty || state_id.touched)" class="error">
                          <div *ngIf="state_id.errors.required">State is required</div>
                        </div>
                        </div>
                        <div class="col-sm-6 form-group">
                          <label>Local Government Area (LGA)</label>
                          <select  name="lga_id" id="lga_id" #lga_id="ngModel" [(ngModel)]="indvEmpContact.lga_id"  class="form-control"  required >
                            <option value="">--Select LGA--</option>
                            <option *ngFor="let addlga of alllgaByStates" [value]="addlga.id">{{addlga.lga_name}}</option>  
                        </select>
                        <div *ngIf="lga_id.invalid && (lga_id.dirty || lga_id.touched)" class="error">
                          <div *ngIf="lga_id.errors.required">LGA is required</div>
                        </div>
                        </div>
                        <div class="col-sm-12 form-group">
                          <label>Address Line 1</label>
                          <input name="address1" id="address1" #address1="ngModel" [(ngModel)]="indvEmpContact.address1" type="text"  class="form-control" nbInput placeholder="Enter Address Line 1" fullWidth  required>
                          <div *ngIf="address1.invalid && (address1.dirty || address1.touched)" class="error">
                            <div *ngIf="address1.errors.required">Address 1 is required</div>
                          </div>
                        </div>
                        <div class="col-sm-12 form-group">
                          <label>Address Line 2</label>
                          <input name="address2" id="address2" #address2="ngModel" [(ngModel)]="indvEmpContact.address2" type="text"  class="form-control" nbInput placeholder="Enter Address Line 2" fullWidth >
                    
                        </div>
                        <div class="col-sm-12 form-group">
                           <nb-checkbox name="is_primary_address" id="is_primary_address" #is_primary_address="ngModel" [(ngModel)]="indvEmpContact.is_primary_address">Primary Account</nb-checkbox>
                        </div>
                      </div>

                      <div style="padding-top: 5px;padding-bottom: 10px;">
                        <nb-alert status="danger" *ngIf="errorMsg">{{errorMsg}}</nb-alert>
                        <div class="row">
            <div class="col-sm-12" style="padding-top: 10px;"  *ngFor="let tempCont of tempEmpContactList;let i = index">
              <div class="cbadge">{{getAddresstypename(tempCont.add_type)}}&nbsp;|&nbsp;{{tempCont.add1}}&nbsp;<i class="fa fa-times" (click)="removefromContact(i)" style="color:#EB5757;cursor: pointer;"></i></div>
            </div>
                        </div>
                       
                      </div>
                          <div class="form-group row">
                            <div class="col-sm-12" style="display: flex;flex-direction: row;">
                              <button [disabled]="tempEmpContactList.length < 1" (click)="submitContact()" type="button" nbButton status="primary" >Save Changes</button>
                              <div style="padding-left: 12px;">
                                <button [disabled]="contactForm.invalid" (click)="addtoContact(indvEmpContact)" type="button" outline="true" nbButton status="primary" > <i class="fa fa-plus"></i> Add Address</button>
                              </div>
                            </div>
                          </div>

                        
                    </form>
                    <ngx-tablecomponent                                
                    [showActions]="true"
                    [showFilter]="false"
                    (actionClick)="empContacttableActionClicked($event)"
                    [actions]="EmpContacttableActions" 
                    [userData]="createNewEmployee.addresses" 
                    [tableColum]="EmpContacttableColumns"
                    [totalItems]="EmpContacttotalItems"
                    [currentPage]="EmpContactcurrentPage"
                    [loading]="EmpContactloading"
                    >
                </ngx-tablecomponent>
                </div>
            </div>

               <!--Pension-->
               <div class="fmContainer" *ngSwitchCase="'pension_panel'">
                <div style="padding-bottom: 5px;">
                  <p class="header6-medium">{{selectedPanel.label}}</p>
              </div>
  
              <div style="border-bottom: 0.800000011920929px solid #CED4DA;padding-bottom: 5px;"></div>
                  <div style="padding-top:1.5rem;">
                      <form name="pensionForm" id="pensionForm" #pensionForm="ngForm">
                        <div class="row" style="padding-top:10px">
                          <div class="col-sm-6 form-group">
                            <label>Pensioner File No.</label>
                            <input [(ngModel)]="createNewEmployee.pension.pensionerFileNo" name="pensionerFileNo" id="pensionerFileNo" #pensionerFileNo="ngModel" type="text" fullWidth class="form-control" nbInput placeholder="Enter Pensioner File No"  required>
                            <div *ngIf="pensionerFileNo.invalid && (pensionerFileNo.dirty || pensionerFileNo.touched)" class="error">
                              <div *ngIf="pensionerFileNo.errors.required">Pensioner File No is required</div>
                            </div>
                          </div>
                          <div class="col-sm-6 form-group">
                            <label>PFA Name</label>
                            <select  name="pfaId" id="pfaId" #pfaId="ngModel" [(ngModel)]="createNewEmployee.pension.pfaId"   class="form-control"  required >
                              <option value="">--Select PFA--</option>
                              <option *ngFor="let pfal of pfaList" [value]="pfal.option_value">{{pfal.option_text}}</option>  
                          </select>
                          <div *ngIf="pfaId.invalid && (pfaId.dirty || pfaId.touched)" class="error">
                            <div *ngIf="pfaId.errors.required">PFA Name is required</div>
                          </div>
                          </div>
                          <div class="col-sm-6 form-group">
                            <label>RSA Number</label>
                            <input id="rsaNumber" name="rsaNumber" #rsaNumber="ngModel" [(ngModel)]="createNewEmployee.pension.rsaNumber" type="text" fullWidth class="form-control" nbInput placeholder="Enter RSA Number"  required>
                            <div *ngIf="rsaNumber.invalid && (rsaNumber.dirty || rsaNumber.touched)" class="error">
                              <div *ngIf="rsaNumber.errors.required">PFA Name is required</div>
                            </div>
                          </div>
                        
                        </div>
                            <div class="form-group row">
                              <div class="col-sm-12">
                                <button type="button" [disabled]="pensionForm.invalid" nbButton status="primary" (click)="submitPension()">Next</button>
                              </div>
                            </div>
                      </form>
                  </div>
            </div>

               <!--History-->
               <div class="fmContainer" *ngSwitchCase="'History_panel'">
                <div style="padding-bottom: 5px; display: flex;flex-direction: row;">
                  <p class="header6-medium" style="flex: auto;">{{selectedPanel.label}}</p>
                  <div>
                    <button nbButton status="primary"  (click)="showEmpHistoryModal = true">Add New</button>
                    </div>
              </div>
                    <div style="padding-top:1.5rem;">
                      <ngx-default-content
                      *ngIf="EmpHistoryEmpty"
                      pageHeader="Add your first Job History"
                      pageDescription="Click on the button to add Job History"
                      buttonValue="Add History"
                      [loading]="EmpHistoryloading"
                      (buttonClick)="showEmpHistoryModal = true"              
                    >
                    </ngx-default-content>
                      <ngx-tablecomponent  
                      *ngIf="!EmpHistoryEmpty"              
                      [showActions]="true"
                      [showFilter]="false"
                      (actionClick)="embHistorytableActionClicked($event)"
                      [actions]="EmpHistorytableActions" 
                      [userData]="createNewEmployee.employmentHistories" 
                      [tableColum]="EmpHistorytableColumns"
                      [totalItems]="EmpHistorytotalItems"
                      [currentPage]="EmpHistorycurrentPage"
                      [loading]="EmpHistoryloading"
                      >
                  </ngx-tablecomponent>
                    </div>
            </div>

             <!--Skills-->
             <div class="fmContainer" *ngSwitchCase="'skills_panel'">
              <div style="padding-bottom: 5px; display: flex;flex-direction: row;">
                <p class="header6-medium" style="flex: auto;">{{selectedPanel.label}}</p>
                <div>
                  <button nbButton status="primary"  (click)="showSkillModal = true">Add New</button>
                  </div>
            </div>
                  <div style="padding-top:1.5rem;">
                    <ngx-default-content
                    *ngIf="EmpSkillEmpty"
                    pageHeader="Add your first Skill"
                    pageDescription="Click on the button to add Skill"
                    buttonValue="Add Skill"
                    [loading]="EmpSkillloading"
                    (buttonClick)="showSkillModal = true"              
                  >
                  </ngx-default-content>
                    <ngx-tablecomponent  
                    *ngIf="!EmpSkillEmpty"              
                    [showActions]="true"
                    [showFilter]="false"
                    (actionClick)="empSkilltableActionClicked($event)"
                    [actions]="EmpSkilltableActions" 
                    [userData]="createNewEmployee.skills" 
                    [tableColum]="EmpSkilltableColumns"
                    [totalItems]="EmpSkilltotalItems"
                    [currentPage]="EmpSkillcurrentPage"
                    [loading]="EmpSkillloading"
                    >
                </ngx-tablecomponent>
                  </div>
            </div>
  <!--Training-->
  <div class="fmContainer" *ngSwitchCase="'training_panel'">
    <div style="padding-bottom: 5px; display: flex;flex-direction: row;">
      <p class="header6-medium" style="flex: auto;">{{selectedPanel.label}}</p>
      <div>
        <button nbButton status="primary"  (click)="showTrainingModal = true">Add New</button>
        </div>
  </div>
        <div style="padding-top:1.5rem;">
          <table class="table">
            <thead class="thead-light">
              <tr>
                <th scope="col">Name of Training</th>
                <th scope="col">Category</th>
                <th scope="col">Vendor</th>
                <th scope="col">Start Date</th>
                <th scope="col">End Date</th>
                <th scope="col">Action</th>
           
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">Name</th>
                <td>Mark</td>                
                <td>Mark</td>    
                <td>Mark</td>    
                <td>Mark</td>                  
                <td><nb-icon icon="more-horizontal-outline"></nb-icon></td>
              </tr>
             
            </tbody>
          </table>
        </div>
</div>
  <!--Certification -->
  <div class="fmContainer" *ngSwitchCase="'certification_panel'">
    <div style="padding-bottom: 5px; display: flex;flex-direction: row;">
      <p class="header6-medium" style="flex: auto;">{{selectedPanel.label}}</p>
      <div>
        <button nbButton status="primary"  (click)="showCertificationModal = true">Add New</button>
        </div>
  </div>
        <div style="padding-top:1.5rem;">
          <ngx-default-content
          *ngIf="EmpCertEmpty"
          pageHeader="Add your first Certification"
          pageDescription="Click on the button to add Certification"
          buttonValue="Add Certification"
          [loading]="EmpCertloading"
          (buttonClick)="showCertificationModal = true"              
        >
        </ngx-default-content>
          <ngx-tablecomponent  
          *ngIf="!EmpCertEmpty"              
          [showActions]="true"
          [showFilter]="false"
          (actionClick)="empCerttableActionClicked($event)"
          [actions]="EmpCerttableActions" 
          [userData]="createNewEmployee.certification" 
          [tableColum]="EmpCerttableColumns"
          [totalItems]="EmpCerttotalItems"
          [currentPage]="EmpCertcurrentPage"
          [loading]="EmpCertloading"
          >
      </ngx-tablecomponent>
        </div>
</div>
              <!--Custom Form-->
              <div class="fmContainer" *ngSwitchCase="'custom_panel'">
                <div style="padding-bottom: 5px;">
                    <p class="header6-medium">{{selectedPanel.label}}</p>
                </div>
            </div>


    </div>
    </nb-card-body>
    </nb-card>
    </div>
    </div>

 <!--Add New Certification-->
 <ngx-side-modal [(show)]='showCertificationModal' style="width: 500px; height: 1000px;">
    
  <div modal-header>Add Certification <br> <small>Fill in Below Details</small></div>
  <div modal-body>
    <form id="certificationForm" name="certificationForm" #certificationForm="ngForm">

      <div class="row" style="padding-top:10px">
        <div class="col-sm-12 form-group">
          <label>Name of Certification</label>
          <select [(ngModel)]="indvEmpCert.certificationId" name="certificationId" id="certificationId" #certificationId="ngModel" class="form-control"  required >
            <option value="">--Select Title--</option>
            <option *ngFor="let cert of allCertfications" [value]="cert.id">{{cert.name}}</option>
        </select>
        <div *ngIf="certificationId.invalid && (certificationId.dirty || certificationId.touched)" class="error">
          <div *ngIf="certificationId.errors.required">Certification is required</div>
        </div>
        </div>
        <div class="col-sm-12 form-group">
          <label>Professional Body</label>
          <select [(ngModel)]="indvEmpCert.institution" name="institution" id="institution" #institution="ngModel" class="form-control"  required >
            <option value="">--Select Category--</option>
            <option *ngFor="let certbody of allProfessionalBodes" [value]="certbody.id">{{certbody.name}}</option>
        </select>
        <div *ngIf="institution.invalid && (institution.dirty || institution.touched)" class="error">
          <div *ngIf="institution.errors.required">Professional Body is required</div>
        </div>
        </div>
     
      
        <div class="col-sm-12 form-group">
          <label>Start Date</label>
          <ngx-date [(value)]="indvEmpCert.startDate" id="startDate" name="startDate" [max]="indvEmpCert.endDate"></ngx-date>
        
        </div>
        <div class="col-sm-12 form-group">
          <label>End Date</label>
          <ngx-date [(value)]="indvEmpCert.endDate" id="endDate" name="endDate" [min]="indvEmpCert.startDate"></ngx-date>
        
        </div>
      </div>
   
    
    </form>
    <div style="padding-top: 5px;">
      <div class="row">
<div class="col-sm-6" style="padding-top: 10px;"  *ngFor="let tempCert of tempEmpCertList;let i = index">
<div class="cbadge">{{getEmpCertName(tempCert.certificationId)}}&nbsp;|&nbsp;{{tempCert.no_exp}}&nbsp;<i class="fa fa-times" (click)="removefromCert(i)" style="color:#EB5757;cursor: pointer;"></i></div>
</div>
      </div>
     
    </div>
  </div>
  <div modal-actions class="d-flex" style="margin-top: 20px; margin-bottom: 30px;">
    <div modal-actions style="margin-top: 10px; margin-bottom: 10px;display: flex;flex-direction: row;">
      <ngx-loadable-button [loading]="EmpCertloading" [disabled]="tempEmpCertList.length < 1" (click)="submitEmpCert()" >
        Submit
      </ngx-loadable-button>           
      <div style="padding-left: 15px;">
        <button [disabled]="!disableaddCert" outline="true" (click)="addtoCert(indvEmpCert)"  nbButton status="primary" class="d-flex column" >  <nb-icon  icon="plus"></nb-icon>&nbsp;Add Certificate</button>
     
      </div>
  </div>

</div>
<div style="margin-top: 10px;"></div>
</ngx-side-modal>

 <!--Add New Training-->
 <ngx-side-modal [(show)]='showTrainingModal' style="width: 500px; height: 1000px;">
    
  <div modal-header>Add Training <br> <small>Fill in Below Details</small></div>
  <div modal-body>
    <form id="trainingForm" name="trainingForm" #trainingForm="ngForm">

      <div class="row" style="padding-top:10px">
        <div class="col-sm-6 form-group">
          <label>Category</label>
          <select class="form-control"  required >
            <option value="">--Select Category--</option>
         
        </select>
       
        </div>

        <div class="col-sm-6 form-group">
          <label>Name of Training</label>
          <select class="form-control"  required >
            <option value="">--Select Title--</option>
         
        </select>
       
        </div>
   
        <div class="col-sm-6 form-group">
          <label>Vendor</label>
          <select class="form-control"  required >
            <option value="">--Select Title--</option>
         
        </select>
       
        </div>
        <div class="col-sm-12 form-group">
          <label>Start Date</label>
          <ngx-date ></ngx-date>
        
        </div>
        <div class="col-sm-12 form-group">
          <label>End Date</label>
          <ngx-date ></ngx-date>
        
        </div>
      </div>
   
    
    </form>
  </div>
  <div modal-actions class="d-flex" style="margin-top: 20px; margin-bottom: 30px;">
    <button *ngIf="btnContractSubmitted"  nbButton status="primary" class="d-flex column" ><i class="fa fa-spin fa-spinner"></i>&nbsp;Processing ...</button>
    <button *ngIf="!btnContractSubmitted"  nbButton status="primary" class="d-flex column" >Submit</button>
    

</div>
<div style="margin-top: 10px;"></div>
</ngx-side-modal>

      <!--Add New Skill -->
      <ngx-side-modal [(show)]='showSkillModal' style="width: 500px; height: 1000px;">
    
        <div modal-header>Add New Skill <br> <small>Fill in Below Details</small></div>
        <div modal-body>
          <form id="skillForm" name="skillForm" #skillForm="ngForm">
    
            <div class="row" style="padding-top:10px">
              <div class="col-sm-12 form-group">
                <label>Skill</label>
                <select [(ngModel)]="indvEmpSkill.skillId" name="skillId" id="skillId" #skillId="ngModel" class="form-control"  required >
                  <option value="">--Select Skill--</option>
                  <option *ngFor="let sk of allskills" [value]="sk.id">{{sk.name}}</option>
              </select>
              <div *ngIf="skillId.invalid && (skillId.dirty || skillId.touched)" class="error">
                <div *ngIf="skillId.errors.required">Skill is required</div>
              </div>
              </div>
              <div class="col-sm-12 form-group">
                <label>Start Date</label>
                <ngx-date [(value)]="indvEmpSkill.startDate" (valueChange)="getSkillExperince()" id="startDate" name="startDate" ></ngx-date>
            
              </div>
              <div class="col-sm-12 form-group">
                <label>Experience In Month</label>
                {{this.indvEmpSkill.numberOfExperienceInMonth}}
              </div>
           
            </div>
         
          
          </form>
          <div style="padding-top: 5px;">
            <div class="row">
  <div class="col-sm-6" style="padding-top: 10px;"  *ngFor="let tempSkill of tempEmpSkillList;let i = index">
  <div class="cbadge">{{getEmpSkillName(tempSkill.id_skill)}}&nbsp;|&nbsp;{{tempSkill.no_exp}}&nbsp;<i class="fa fa-times" (click)="removefromSkill(i)" style="color:#EB5757;cursor: pointer;"></i></div>
  </div>
            </div>
           
          </div>
        </div>
        <div modal-actions style="margin-top: 10px; margin-bottom: 10px;display: flex;flex-direction: row;">
          <ngx-loadable-button [loading]="EmpSkillloading" [disabled]="tempEmpSkillList.length < 1" (click)="submitEmpSkills()" >
            Submit
          </ngx-loadable-button>           
          <div style="padding-left: 15px;">
            <button [disabled]="!disableaddSkill" outline="true" (click)="addtoSkills(indvEmpSkill)"  nbButton status="primary" class="d-flex column" >  <nb-icon  icon="plus"></nb-icon>&nbsp;Add Skill</button>
         
          </div>
      </div>
      <div style="margin-top: 10px;"></div>
      </ngx-side-modal>

    <!--Add New Employment History-->
    <ngx-side-modal [(show)]='showEmpHistoryModal' style="width: 500px; height: 1000px;">
    
      <div modal-header>Add Employment History <br> <small>Fill in Below Details</small></div>
      <div modal-body>
        <form id="EmHistoryForm" name="EmHistoryForm" #EmHistoryForm="ngForm">
  
          <div class="row" style="padding-top:10px">
            <div class="col-sm-6 form-group">
              <label>Job Title</label>
              <select class="form-control"  required [(ngModel)]="indvEmpHistory.jobTitleId" name="jobTitleId" id="jobTitleId" #jobTitleId="ngModel">
                <option value="">--Select Title--</option> 
                <option *ngFor="let jTitle of allPositions" [value]="jTitle.id">{{jTitle.title}}</option>            
            </select>
            <div *ngIf="jobTitleId.invalid && (jobTitleId.dirty || jobTitleId.touched)" class="error">
              <div *ngIf="jobTitleId.errors.required">Job Title is required</div>
            </div>
            </div>
            <div class="col-sm-6 form-group">
              <label>Department</label>
              <select class="form-control" [(ngModel)]="indvEmpHistory.departmentId" name="departmentId" id="departmentId" #departmentId="ngModel" required >
                <option value="">--Select Title--</option> 
                <option *ngFor="let dep of alldepartments" [value]="dep.option_value">{{dep.option_text}}</option>               
            </select>
            <div *ngIf="departmentId.invalid && (departmentId.dirty || departmentId.touched)" class="error">
              <div *ngIf="departmentId.errors.required">Department is required</div>
            </div>
            </div>
            <div class="col-sm-12 form-group">
              <label>Designation</label>
              <input fullWidth [(ngModel)]="indvEmpHistory.designation" name="designation" id="designation" #designation="ngModel" type="text"  class="form-control" nbInput placeholder="Enter Designation"  required>
              <div *ngIf="designation.invalid && (designation.dirty || designation.touched)" class="error">
                <div *ngIf="designation.errors.required">Designation is required</div>
              </div>
            </div>
            <div class="col-sm-12 form-group">
              <label>Employer Address</label>
              <textarea rows="5" [(ngModel)]="indvEmpHistory.employerAddress" #employerAddress="ngModel"  id="employerAddress" name="employerAddress"  nbInput fullWidth   placeholder="Enter Employer Address"></textarea>
              <div *ngIf="employerAddress.invalid && (employerAddress.dirty || employerAddress.touched)" class="error">
                <div *ngIf="employerAddress.errors.required">Employer Address is required</div>
              </div>
            </div>
            <div class="col-sm-12 form-group">
              <label>Start Date</label>
              <ngx-date [(value)]="indvEmpHistory.startDate" id="startDate" name="startDate" [max]="indvEmpHistory.endDate"></ngx-date>
            
            </div>
            <div class="col-sm-12 form-group">
              <label>End Date</label>
              <ngx-date [(value)]="indvEmpHistory.endDate" id="endDate" name="endDate" [min]="indvEmpHistory.startDate"></ngx-date>
            
            </div>
          </div>
       
        
        </form>
        <div style="padding-top: 5px;">
          <div class="row">
<div class="col-sm-6" style="padding-top: 10px;"  *ngFor="let tempHist of tempEmpHistoryList;let i = index">
<div class="cbadge">{{getEmpJobTitle(tempHist.title_job)}}&nbsp;|&nbsp;{{tempHist.h_designation}}&nbsp;<i class="fa fa-times" (click)="removefromBank(i)" style="color:#EB5757;cursor: pointer;"></i></div>
</div>
          </div>
         
        </div>
      </div>
      <div modal-actions style="margin-top: 10px; margin-bottom: 10px;display: flex;flex-direction: row;">
        <ngx-loadable-button [loading]="EmpHistoryloading" [disabled]="tempEmpHistoryList.length < 1" (click)="submitEmpHistory()" >
          Submit
        </ngx-loadable-button>           
        <div style="padding-left: 15px;">
          <button [disabled]="!disableaddHistory" outline="true" (click)="addtoEmpHistory(indvEmpHistory)"  nbButton status="primary" class="d-flex column" >  <nb-icon  icon="plus"></nb-icon>&nbsp;Add </button>
       
        </div>
    </div>
    <div style="margin-top: 10px;"></div>
    </ngx-side-modal>

      <!--Add New Bank Details-->
      <ngx-side-modal [(show)]='showbankModal' style="width: 500px; height: 1000px;">
    
        <div modal-header>Add New Bank <br> <small>Fill in Below Details</small></div>
        <div modal-body>
          <form id="bankForm" name="bankForm" #bankForm="ngForm">
            <nb-alert status="danger" *ngIf="errorMsg">{{errorMsg}}</nb-alert>
           
            <div class="row" style="padding-top:10px">
              <div class="col-sm-6 form-group">
                <label>Bank Name</label>
                <select class="form-control" #bank_id="ngModel" [(ngModel)]="indVEmpBanks.bank_id" id="bank_id" name="bank_id" >
                  <option value="">--Select Bank--</option>
                  <option *ngFor="let bank of bankList" value="{{bank.option_value}}">{{bank.option_text}}</option>
              </select>
             
              </div>
              <div class="col-sm-6 form-group">
                <label>Account Numer</label>
                <input type="text" (keyup)="inputNumberValidation($event)"  class="form-control" #account_no="ngModel" [(ngModel)]="indVEmpBanks.account_no" id="account_no" name="account_no">
               
              </div>
              <div class="col-sm-6 form-group">
                <label>Account Type</label>
                <select class="form-control" #account_typeId="ngModel" [(ngModel)]="indVEmpBanks.account_typeId" id="account_typeId" name="account_typeId" >
                  <option value="">--Select Type--</option>
                  <option *ngFor="let accounttype of accounttypes" value="{{accounttype.id}}">{{accounttype.text}}</option>
              </select>
             
              </div>
              <div class="col-sm-6 form-group">
                <label>Sort Code</label>
                <input type="text"  class="form-control" #bank_sort_code="ngModel" [(ngModel)]="indVEmpBanks.bank_sort_code" id="bank_sort_code" name="bank_sort_code">
              </div>
              <div class="col-sm-12 form-group">
                <nb-checkbox #is_primary="ngModel" [(ngModel)]="indVEmpBanks.is_primary" id="is_primary" name="is_primary">
                  Primary Account</nb-checkbox>
              
              </div>
            
            </div>
         
          
          </form>
          <div style="padding-top: 5px;">
            <div class="row">
<div class="col-sm-12" style="padding-top: 10px;"  *ngFor="let tempbank of tempEmpBanksList;let i = index">
  <div class="cbadge">{{getbankname(tempbank.id_bank)}}&nbsp;|&nbsp;{{tempbank.numb_account}}&nbsp;<i class="fa fa-times" (click)="removefromBank(i)" style="color:#EB5757;cursor: pointer;"></i></div>
</div>
            </div>
           
          </div>
        </div>
        <div modal-actions style="margin-top: 10px; margin-bottom: 30px;display: flex;flex-direction: row;">
          <ngx-loadable-button [loading]="EmpBankloading" [disabled]="tempEmpBanksList.length < 1" (click)="submitbank()" >
            Submit
          </ngx-loadable-button>           
          <div style="padding-left: 15px;">
            <button [disabled]="!disableaddBank" outline="true" (click)="addtopbank(indVEmpBanks)"  nbButton status="primary" class="d-flex column" >  <nb-icon  icon="plus"></nb-icon>&nbsp;Add </button>
         
          </div>
      </div>
      <div style="margin-top: 10px;"></div>
      </ngx-side-modal>

    <!--Add New Qualification-->
    <ngx-side-modal [(show)]='showQualificationModal' style="width: 500px; height: 1000px;">
    
      <div modal-header>Add Qualification <br> <small>Fill in Below Details</small></div>
      <div modal-body>
        <form id="qualificationForm" name="qualificationForm" #qualificationForm="ngForm">
  
          <div class="row" style="padding-top:10px">
            <div class="col-sm-6 form-group">
              <label>Name of Qualification</label>
              <select class="form-control" [(ngModel)]="indvQualifications.qualificationId" #qualificationId="ngModel" id="qualificationId" name="qualificationId"  required >
                <option value="">--Select Title--</option>
                <option *ngFor="let q of allQualifications" [value]="q.id">{{q.name}}</option>
                <div *ngIf="qualificationId.invalid && (qualificationId.dirty || qualificationId.touched)" class="error">
                  <div *ngIf="qualificationId.errors.required">Qualification is required</div>
                </div>
            </select>
           
            </div>
            <div class="col-sm-6 form-group">
              <label>Type</label>
              <select class="form-control" [(ngModel)]="indvQualifications.typeId" #typeId="ngModel" id="typeId" name="typeId" required >
                <option value="">--Select Title--</option>
                <option *ngFor="let qt of allQulificationType" [value]="qt.id">{{qt.text}}</option>

            </select>
            <div *ngIf="typeId.invalid && (typeId.dirty || typeId.touched)" class="error">
                  <div *ngIf="typeId.errors.required">Qualification is required</div>
                </div>
            </div>
            <div class="col-sm-6 form-group">
              <label>Course</label>
              <select class="form-control" [(ngModel)]="indvQualifications.courseId" #courseId="ngModel" id="courseId" name="courseId"  required >
                <option value="">--Select Title--</option>
                <option *ngFor="let c of allCourses" [value]="c.id">{{c.name}}</option>
            </select>
           
            </div>
            <div class="col-sm-6 form-group">
              <label>Institution</label>
              <select class="form-control" [(ngModel)]="indvQualifications.institutionId" #institutionId="ngModel" id="institutionId" name="institutionId"  required >
                <option value="">--Select Title--</option>
                <option *ngFor="let i of allInstitution" [value]="i.id">{{i.name}}</option>
            </select>
           
            </div>
            <div class="col-sm-12 form-group">
              <label>Start Date</label>
              <ngx-date [(ngModel)]="indvQualifications.startDate" #startDate name="startDate" id="startDate" ></ngx-date>
            
            </div>
            <div class="col-sm-12 form-group">
              <label>End Date</label>
              <ngx-date [(ngModel)]="indvQualifications.endDate" name="endDate" #endDate id="endDate" ></ngx-date>
            
            </div>
          </div>
       
        
        </form>
        <div style="padding-top: 5px;">
          <div class="row">
<div class="col-sm-12" style="padding-top: 10px;"  *ngFor="let tempQual of tempQualificationList;let i = index">
<div class="cbadge">{{getQualificationName(tempQual.qual_id)}}&nbsp;|&nbsp;{{getInstitutionName(tempQual.qual_institution_id)}}&nbsp;<i class="fa fa-times" (click)="removefromQualification(i)" style="color:#EB5757;cursor: pointer;"></i></div>
</div>
          </div>
         
        </div>
      </div>
      <div modal-actions style="margin-top: 10px; margin-bottom: 30px;display: flex;flex-direction: row;">
        <ngx-loadable-button [loading]="qualificationloading" [disabled]="tempQualificationList.length < 1" (click)="submitQualification()" >
          Submit
        </ngx-loadable-button>           
        <div style="padding-left: 15px;">
          <button [disabled]="!disableaddQualification" outline="true" (click)="addtoQualification(indvQualifications)"  nbButton status="primary" class="d-flex column" >  <nb-icon  icon="plus"></nb-icon>&nbsp;Add </button>
       
        </div>
    </div>
    <div style="margin-top: 5px;"></div>
    </ngx-side-modal>


     <!--Add New Document-->
    <ngx-side-modal [(show)]='showdocumentUploadModal' style="width: 500px; height: 1000px;">
    
      <div modal-header>Upload Document <br> <small>Fill in Below Details</small></div>
      <div modal-body>
        <form id="documentUploadtForm" name="documentUploadtForm" #documentUploadtForm="ngForm">
  
          <div class="row" style="padding-top:10px">
            <div class="col-sm-6 form-group">
              <label>File Name</label>
              <input type="text" [(ngModel)]="indVDocuments.name" #name="ngModel" name="name" id="name" class="form-control" nbInput placeholder="Enter File Name"  required>
           
            </div>
            <div class="col-sm-6 form-group">
              <label>File Type</label>
              <select class="form-control" [(ngModel)]="indVDocuments.docType" #docType="ngModel" name="docType" id="docType"  required >
                <option value="">--Select Title--</option>
             <option *ngFor="let dType of allfiletypes" [value]="dType.text">{{dType.text}}</option>
            </select>
           
            </div>
          </div>
          <div class="form-group">
            <div style="width: 100%;display: flex;flex-direction: row;"  flow-init     
            flowDrop
            [flow]="flowBasic.flowJs"
            (drop)="onDropFileceived(flowBasic)"
            (dragover)="onDragOver($event)">
            <div style="padding: 10px;border: 1px solid #C4CDD5;" (change)="filereceived(flowBasic)">
              <button   nbButton status="primary"  flowButton
              [flow]="flowBasic.flowJs" >Choose File</button>
            </div>
            <div style="padding: 10px;border: 1px solid #C4CDD5;flex: auto;">
              <div *ngIf="files.length < 1"> <small class="smalltext">No file chosen</small></div>
              <div *ngFor="let transfer of files; let i = index" style="color: blue; display: flex;">
                <div *ngIf="i == 0" style=" display: flex;flex-direction: row">
                 <nb-icon nbPrefix icon="checkmark-outline" pack="eva"></nb-icon> &nbsp;&nbsp;
                 <div style="flex: auto;">{{transfer.name}}</div>
                 &nbsp;&nbsp;
                 <span class="smalltext" style="color: red !important;cursor: pointer;" (click)="removeFile(flowBasic, transfer)">Remove</span>
              
                </div>
                
                 </div>
            </div>
            </div>
          </div>
          <div class="form-group">
            <label for="Minimum Number Of Days" style="font-size: small;font-weight: bold;">Comment</label>
            <textarea [(ngModel)]="indVDocuments.comment" #comment="ngModel" name="comment" id="comment" rows="5"  nbInput fullWidth   placeholder="Enter Comment"></textarea>
          </div> 
        </form>
      </div>
      <div modal-actions style="margin-top: 10px; margin-bottom: 10px;display: flex;flex-direction: row;">
        <ngx-loadable-button [loading]="documentloading" [disabled]="files.length < 1" (click)="submitDocument(indVDocuments)" >
          Submit
        </ngx-loadable-button>           
     
    </div>
    <div style="margin-top: 10px;"></div>
    </ngx-side-modal>


     <!--Employee Contract Record-->
    <ngx-side-modal [(show)]='showEmployeeContractModal' style="width: 500px; height: 1000px;">
    
      <div modal-header>Edit Contract <br> <small>Fill in Below Details</small></div>
      <div modal-body>
       
          <form id="contractForm" name="contractForm" #contractForm="ngForm">
  
                <div class="row" style="padding-top:10px">
                  <div class="col-sm-6 form-group">
                    <label>Employee Name</label>
                    <input type="text" [(ngModel)]="indvemployeeContract.fullName" name="fullName" id="fullName"  class="form-control" readonly  required>
                 
                  </div>
                  <div class="col-sm-6 form-group">
                      <label>Department</label>
                      <select class="form-control" #departmentId="ngModel" [(ngModel)]="indvemployeeContract.departmentId" name="departmentId" id="departmentId" required  >
                          <option value="">--Select Department--</option>
                       <option *ngFor="let dep of alldepartments" [value]="dep.option_value">{{dep.option_text}}</option>
                      </select>
                 
                  </div>
                <div class="col-sm-6 form-group">
               <label for="Employee Name" style="font-size: small;font-weight: bold;">Supervisor:</label>
               <ngx-employee-master-search (masterSearchOpened)="showEmployeeContractModal = false" (masterSubmitted)="getSelectedEmployee($event);showEmployeeContractModal = true" [allowmultipleselection]="allowmultipleselection" [selectionHeader]="selectionHeader" [addbtnText]="addbtnText"></ngx-employee-master-search>
               
                </div>
                <div class="col-sm-6 form-group">
                  <label>Job Title</label>
                  <select class="form-control" #jobId="ngModel" [(ngModel)]="indvemployeeContract.jobId" name="jobId" id="jobId" required   >
                      <option value="">--Select Title--</option>
                      <option *ngFor="let jb of alljobRoles" [value]="jb.id">{{jb.name}}</option>
                  </select>
             
              </div>
              <div class="col-sm-6 form-group">
                <label>Position</label>
                <select class="form-control" #positionId="ngModel" [(ngModel)]="indvemployeeContract.positionId" name="positionId" id="positionId" required  >
                    <option value="">--Select Position--</option>
                    <option *ngFor="let ps of allPositions" [value]="ps.id">{{ps.title}}</option>
                </select>
           
            </div>
            <div class="col-sm-6 form-group">
              <label>Location</label>
              <select class="form-control" #locationId="ngModel" [(ngModel)]="indvemployeeContract.locationId" name="locationId" id="locationId" required   >
                  <option value="">--Select Location--</option>
                  <option *ngFor="let lc of alllocations" [value]="lc.id">{{lc.location_name}}</option>
              </select>
         
          </div>
            <div class="col-sm-12 form-group">
              <label>Date of Confirmation</label>
              <ngx-date  [(value)]="indvemployeeContract.dateOfConfirmation" name="dateOfConfirmation" id="dateOfConfirmation"></ngx-date>
         
          </div>

          <div class="col-sm-12 form-group">
            <label>Date of Appointment</label>
            <ngx-date  [(value)]="indvemployeeContract.dateOfAppointment" name="dateOfAppointment" id="dateOfAppointment"></ngx-date>
       
        </div>
        <div class="col-sm-12 form-group">
          <label>Date of Conversion</label>
          <ngx-date [(value)]="indvemployeeContract.dateOfConversion" name="dateOfConversion" id="dateOfConversion"></ngx-date>
     
      </div>
      <div class="col-sm-6 form-group">
        <label>Payroll Type</label>
        <select class="form-control" #payRollTypeId="ngModel"  [(ngModel)]="indvemployeeContract.payRollTypeId" name="payRollTypeId" id="payRollTypeId" required>
            <option value="">--Select Location--</option>
            <option *ngFor="let pr of allpayrolltypes" [value]="pr.id">{{pr.name}}</option>
        </select>
   
    </div>
    <div class="col-sm-6 form-group">
      <label>Employement Type</label>
      <select class="form-control" #employmentTypeId="ngModel"  [(ngModel)]="indvemployeeContract.employmentTypeId" name="employmentTypeId" id="employmentTypeId"  required >
          <option value="">--Select Type--</option>
          <option *ngFor="let ep of allemploymenttypes" [value]="ep.id">{{ep.text}}</option>
      </select>
  
  </div>
  <div class="col-sm-12 form-group">
    <label>Contract End Date</label>
    <ngx-date  [(value)]="indvemployeeContract.contractEndDate" name="contractEndDate" id="contractEndDate"></ngx-date>
  
  </div>
  <div class="col-sm-6 form-group">
    <label>Salary Scale</label>
    <select class="form-control" #salaryScaleId="ngModel"  [(ngModel)]="indvemployeeContract.salaryScaleId" name="salaryScaleId" id="salaryScaleId"  required   >
        <option value="">--Select Scale--</option>
        <option *ngFor="let ssc of allSalaryScale" [value]="ssc.id">{{ssc.name}}</option>
    </select>
  
  </div>
  <div class="col-sm-6 form-group">
    <label>Grade</label>
    <select class="form-control" #gradeId="ngModel"  [(ngModel)]="indvemployeeContract.gradeId" name="gradeId" id="gradeId"  required   >
        <option value="">--Select Grade--</option>
        <option *ngFor="let gr of allgrades" [value]="gr.id">{{gr.name}}</option>
    </select>
  
  </div>
  <div class="col-sm-12 form-group">
    <label>Grade Step</label>
    <select class="form-control"  #gradeStepId="ngModel"  [(ngModel)]="indvemployeeContract.gradeStepId" name="gradeStepId" id="gradeStepId"  required    >
        <option value="">--Select Grade Step--</option>
        <option *ngFor="let grst of allGradeSteps" [value]="grst.id">{{grst.name}}</option>
    </select>
  
  </div>
  <div class="col-sm-12 form-group">
    <label>Date of Employment</label>
    <ngx-date  [(value)]="indvemployeeContract.dateofPresentAppointment" name="dateofPresentAppointment" id="dateofPresentAppointment"></ngx-date>
  
  </div>
 

        </div>


      </form>
                </div>    
                <div modal-actions style="margin-top: 10px; margin-bottom: 10px;display: flex;flex-direction: row;">
                  <ngx-loadable-button [loading]="EmpContractloading" [disabled]="!disableaddContract" (click)="submitContract(indvemployeeContract)" >
                    Submit
                  </ngx-loadable-button>           
               
              </div>
      <div style="margin-top: 10px;"></div>
  
  </ngx-side-modal>
  